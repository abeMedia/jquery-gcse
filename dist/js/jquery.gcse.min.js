/*!
* jQuery Google CSE v0.3.1 (https://github.com/abemedia/jquery-gcse)
* Copyright (c) 2017 Adam Bouqdib
* Licensed under GPL-3.0 (http://abemedia.co.uk/license) 
*/


!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery,window)}(function(a,b){function c(b,c,f){this.element=b,this.options=a.extend({},e,c),this.callback=f,this._defaults=e,this._name=d,this.init()}var d="gcse",e={cseKey:null,adsenseId:null,site:null,url:b.location.href,param:"q",autoComplete:!0,resultsOnly:!1,safe:!1,language:"en",setPageTitle:function(a){document.title=a+" "+document.title}};c.prototype.getQuery=function(){var a,b=this;return location.search.substr(1).split("&").some(function(c){return c.split("=")[0]===b.options.param&&(a=c.split("=")[1])}),a},c.prototype.setQuery=function(a){this.cse.execute(a)},c.prototype.init=function(){function c(a){for(var c,d=location.search.substr(1).split("&"),f=0;f<d.length;f++)d[f].split("=")[0]===e.param&&(d[f]=e.param+"="+a,c=!0);c||d.push(e.param+"="+a);var g=location.href.replace(location.search.substr(1),d.join("&"));"function"==typeof b.history.pushState?b.history.pushState(null,g,g):b.location.hash="#!"+g,e.setPageTitle(a)}var d=this,e=a.extend(this.options,a(this.element).data()),f=function(){google.load("search","1",{language:e.language,nocss:!0,callback:""}),google.setOnLoadCallback(function(){var a={};e.site&&(a[google.search.Search.RESTRICT_EXTENDED_ARGS]={as_sitesearch:e.site});var b=new google.search.CustomSearchControl(e.cseKey,a);b.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET),e.adsenseId&&b.enableAds(e.adsenseId);var f=new google.search.DrawOptions;f.setAutoComplete(e.autoComplete),e.resultsOnly&&f.enableSearchResultsOnly(),b.draw(d.element,f),b.setSearchStartingCallback({},function(){c(b.getInputQuery())}),b.execute(d.getQuery()),d.cse=b,"function"==typeof d.callback&&d.callback()},!0)};a('script[src^="https://www.google.com/jsapi"]').length>0?f():a.ajax({url:"https://www.google.com/jsapi",dataType:"script",cache:!0,success:f})},c.prototype.destroy=function(){var b=a(this.element);b.html(""),a.data(b,"plugin_"+d,null)},a.fn[d]=function(b,e){return this.each(function(){a.data(this,"plugin_"+d)&&"[object String]"===Object.prototype.toString.call(b)?a.data(this,"plugin_"+d)[b](e):a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new c(this,b,e))})}});